import{C as m,c as u,R as a,r as e}from"./CreateReactScript-CMiyu2aM.js";import{T as f,R as p}from"./tippy-Bo9uQQiJ.js";import{C as l}from"./ClientsRest-DMeIUk5h.js";import{A as R}from"./Adminto-6gONrFtF.js";import{m as o,D as C,a as E}from"./DropdownItem-BS2nWQ6k.js";o.locale("es");const F=({statuses:i})=>{const s=e.useRef();e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useState(!1);const c=async(t,n)=>{await l.clientStatus(t,n)&&$(s.current).dxDataGrid("instance").refresh()};return a.createElement(a.Fragment,null,a.createElement(f,{gridRef:s,title:"Leads",rest:l,toolBar:t=>{t.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"REFRESCAR TABLA",onClick:()=>$(s.current).dxDataGrid("instance").refresh()}})},filterValue:["client_status.id","<>",12],columns:[{dataField:"id",caption:"ID",dataType:"number",sortOrder:"asc"},{dataField:"nombre",caption:"Cliente"},{dataField:"email",caption:"Correo"},{dataField:"telefono",caption:"Telefono"},{dataField:"client_status.id",caption:"ID estado cliente",visible:!1},{dataField:"client_status.name",caption:"Estado del cliente",dataType:"string",cellTemplate:(t,{data:n})=>{t.attr("style","display: flex; gap: 4px; overflow: unset"),p(t,a.createElement(C,{className:"btn btn-xs btn-white rounded-pill",title:n.client_status.name,tippy:"Actualizar estado"},i.map(({id:r,name:d})=>a.createElement(E,{key:r,onClick:()=>c(n.id,r)},d))))}},{dataField:"created_at",caption:"Fecha creacion",dataType:"datetime",cellTemplate:(t,{data:n})=>{t.text(o(n.created_at).format("LL"))}}]}))};m((i,s)=>{u(i).render(a.createElement(R,{session:s.session,title:"Leads"},a.createElement(F,{...s})))});
