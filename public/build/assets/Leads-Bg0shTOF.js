import{C as m,c as u,R as a,r as e}from"./CreateReactScript-CMiyu2aM.js";import{T as f,R as p}from"./tippy-Bo9uQQiJ.js";import{C as o}from"./ClientsRest-sJ7Nb-vc.js";import{A as R}from"./Adminto-6gONrFtF.js";import{m as l,D as C,a as E}from"./DropdownItem-BS2nWQ6k.js";l.locale("es");const F=({statuses:n})=>{const s=e.useRef();e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useState(!1);const c=async(t,r)=>{await o.projectStatus(t,r)&&$(s.current).dxDataGrid("instance").refresh()};return a.createElement(a.Fragment,null,a.createElement(f,{gridRef:s,title:"Leads",rest:o,toolBar:t=>{t.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"REFRESCAR TABLA",onClick:()=>$(s.current).dxDataGrid("instance").refresh()}})},filterValue:["client_status.id","<>",12],columns:[{dataField:"id",caption:"ID",dataType:"number",sortOrder:"asc"},{dataField:"nombre",caption:"Cliente"},{dataField:"email",caption:"Correo"},{dataField:"telefono",caption:"Telefono"},{dataField:"client_status.id",caption:"ID estado cliente",visible:!1},{dataField:"client_status.name",caption:"Estado del cliente",dataType:"string",cellTemplate:(t,{data:r})=>{t.attr("style","display: flex; gap: 4px; overflow: unset"),p(t,a.createElement(C,{className:"btn btn-xs btn-white rounded-pill",title:r.client_status.name,tippy:"Actualizar estado"},n.map(({id:i,name:d})=>a.createElement(E,{key:i,onClick:()=>c(r.id,i)},d))))}},{dataField:"created_at",caption:"Fecha creacion",dataType:"datetime",cellTemplate:(t,{data:r})=>{t.text(l(r.created_at).format("LL"))}}]}))};m((n,s)=>{u(n).render(a.createElement(R,{session:s.session,title:"Leads"},a.createElement(F,{...s})))});
