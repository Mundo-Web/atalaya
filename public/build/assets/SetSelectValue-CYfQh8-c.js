import{r as u,m as i,R as c}from"./CreateReactScript-BPb0oCFQ.js";const S=({col:o,label:e,eRef:r,required:s=!1,dropdownParent:t,searchAPI:l,searchBy:n,multiple:f=!1})=>(r||(r=u.useRef()),u.useEffect(()=>{$(r.current).select2({dropdownParent:t,minimumInputLength:0,ajax:{url:l,headers:{Accept:"application/json","Content-Type":"application/json","X-Xsrf-Token":decodeURIComponent(i.Cookies.get("XSRF-TOKEN"))},type:"POST",quietMillis:50,data:function({term:a,page:m}){return i.JSON.stringify({sort:[{selector:n,desc:!1}],skip:((m??1)-1)*10,take:10,filter:[n,"contains",a]})},processResults:function(a,{page:m}){return{results:((a==null?void 0:a.data)??[]).map(p=>i.JSON.flatten(p)).map(({id:p,[n]:E})=>({id:p,text:E})),pagination:{more:(m??1)*10<a.totalCount}}}}})},[t]),c.createElement("div",{className:`form-group ${o} mb-2`},c.createElement("label",{htmlFor:""},e," ",s&&c.createElement("b",{className:"text-danger"},"*")),c.createElement("select",{ref:r,required:s,className:"form-control",style:{width:"100%"},multiple:f}))),N=(o,e,r,s)=>{if($(o).empty(),!!e){if(Array.isArray(e))e.forEach(({[r]:t,[s]:l})=>{const n=document.createElement("option");n.value=t,n.text=l,n.selected=!0,$(o).append(n)});else{const t=document.createElement("option");t.value=e,t.text=r??e,$(o).append(t),$(o).val(e)}$(o).trigger("change")}};export{S,N as a};
