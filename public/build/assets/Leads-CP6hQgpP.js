import{C as p,c as u,R as a,r as e}from"./CreateReactScript-CMiyu2aM.js";import{T as f,R as o,a as R}from"./TippyButton-uxdC3iXq.js";import{C as c}from"./ClientsRest-DMeIUk5h.js";import{A as C}from"./Adminto-6gONrFtF.js";import{m as d,D as E,a as x}from"./DropdownItem-REQU0t9C.js";d.locale("es");const y=({statuses:l})=>{const n=e.useRef();e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useRef(),e.useState(!1);const r=async(t,s)=>{await c.clientStatus(t,s)&&$(n.current).dxDataGrid("instance").refresh()};return a.createElement(a.Fragment,null,a.createElement(f,{gridRef:n,title:"Leads",rest:c,toolBar:t=>{t.unshift({widget:"dxButton",location:"after",options:{icon:"refresh",hint:"REFRESCAR TABLA",onClick:()=>$(n.current).dxDataGrid("instance").refresh()}})},filterValue:["client_status.id","<>",12],columns:[{dataField:"id",caption:"ID",dataType:"number",sortOrder:"asc"},{dataField:"contact_name",caption:"Cliente"},{dataField:"contact_email",caption:"Correo"},{dataField:"contact_phone",caption:"Telefono"},{dataField:"client_status.id",caption:"ID estado cliente",visible:!1},{dataField:"client_status.name",caption:"Estado del cliente",dataType:"string",cellTemplate:(t,{data:s})=>{t.attr("style","display: flex; gap: 4px; overflow: unset"),o(t,a.createElement(E,{className:"btn btn-xs btn-white rounded-pill",title:s.client_status.name,tippy:"Actualizar estado"},l.map(({id:i,name:m})=>a.createElement(x,{key:i,onClick:()=>r(s.id,i)},m))))}},{dataField:"created_at",caption:"Fecha creacion",dataType:"datetime",cellTemplate:(t,{data:s})=>{t.text(d(s.created_at).format("LL"))}},{caption:"Acciones",cellTemplate:(t,{data:s})=>{t.attr("style","display: flex; gap: 4px; overflow: unset"),o(t,a.createElement(R,{className:"btn btn-xs btn-soft-success",title:"Convertir en cliente",onClick:()=>r(s.id,12)},a.createElement("i",{className:"fa fa-user-plus"})))},allowFiltering:!1,allowExporting:!1}]}))};p((l,n)=>{u(l).render(a.createElement(C,{session:n.session,title:"Leads"},a.createElement(y,{...n})))});
